var stk=function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(1),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a),r=function e(){n(this,e),this.menu=new s.Menu,this.eye=new s.Eye};window.onload=function(){new r}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Menu=t.Eye=void 0;var a=i(2),s=n(a),r=i(3),o=n(r);t.Eye=o.default,t.Menu=s.default},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(){n(this,e),this.fps=12,this.frameInterval=1e3/this.fps,this.events()}return a(e,[{key:"_uid",value:function(){return this.uid=this.uid?this.uid+1:1,"uid"+this.uid}},{key:"toggleDropdown",value:function(e){e.hasClass("active")||($(".cat-parent.active").removeClass("active"),e.addClass("active"),$(".drop-down-item").addClass("display-none"),$(e.data("name")).removeClass("display-none"))}},{key:"filter",value:function(e){var t=this;this.lockFilter||e.hasClass("active")||(this.lockFilter=!0,$(".drop-down-item.active").removeClass("active"),e.addClass("active"),$(".item").addClass("fade-out"),setTimeout(function(){t.applyFilter(e.data("filter")),t.lockFilter=!1},500))}},{key:"resetFilters",value:function(){var e=this;isHome&&!this.lockFilter&&$(".cat-parent").hasClass("active")&&(this.lockFilter=!0,$(".cat-parent.active").removeClass("active"),$(".drop-down-item.active").removeClass("active").addClass(".display-none"),$(".item").addClass("fade-out"),setTimeout(function(){e.applyFilter(".filter-featured"),e.lockFilter=!1},500))}},{key:"applyFilter",value:function(e){$(".item").addClass("display-none"),$(e).each(function(e,t){var i=$(t);$(".column:eq("+e%3+")").append(i),i.removeClass("display-none"),setTimeout(function(){i.removeClass("fade-out")},100)})}},{key:"events",value:function(){var e=this;$(".nav-logo").on("click",function(t){e.resetFilters()}),$(".cat-parent").on("click",function(t){e.toggleDropdown($(t.currentTarget))}),$(".drop-down-item").on("click",function(t){e.filter($(t.currentTarget))}),$(".image_sequence").on("mouseenter",function(t){var i=e._uid(),n=$(".sequence.active").index();-1==n&&(n=0),$(t.currentTarget).find(".sequence").each(function(t,a){$(a).data("flag",i),t>=n&&setTimeout(function(){$(a).data("flag")==i&&($(".sequence").removeClass("active"),$(a).addClass("active"))},(t-n)*e.frameInterval)})}),$(".image_sequence").on("mouseleave",function(t){var i=e._uid(),n=$(".sequence.active").index();-1==n&&(n=$(t.currentTarget).find(".sequence").length-1);var a=e.frameInterval*n;$(t.currentTarget).find(".sequence").each(function(t,s){$(s).data("flag",i),t<=n&&setTimeout(function(){$(s).data("flag")==i&&($(".sequence").removeClass("active"),$(s).addClass("active"))},a-t*e.frameInterval)})})}}]),e}();t.default=s},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(){var t=this;n(this,e),this.target=$(".nav-logo"),this.eye={glow:$(".eye-glow"),base:$(".eye-base"),pupil:$(".eye-pupil"),ray:$(".eye-ray")},this.mouse={x:window.innerWidth/2,y:window.innerHeight/2,relative:{x:0,y:0}},this.centre={x:0,y:0,relative:{x:0,y:0}},this.scale=1,this.eyeWidth=300,this.pupilSize=35,this.active=!0,this.duration=0,this.durationMax=.6,this.events(),this.resize(),setTimeout(function(){t.show()},100)}return a(e,[{key:"events",value:function(){var e=this;this.target.on("mousedown",function(t){e.active&&e.roll(t.clientX,t.clientY)}),$(document).on("mousemove",function(t){e.active?e.move(t.clientX,t.clientY):(e.mouse.x=t.clientX,e.mouse.y=t.clientY)}),$(window).on("resize",function(t){e.resize()}),$(".item").on("mouseenter",function(t){e.target.offset().top-$(document).scrollTop()+e.target.height()>=0&&e.setRay($(t.currentTarget))}),$(".item").on("mouseleave",function(){e.hideRay()})}},{key:"roll",value:function(e,t){var i=this.mouse.x-this.centre.x,n=this.mouse.y-this.centre.y,a=Math.hypot(i,n),s=this.pupilSize*this.scale;this.active=!1,this.animation={mag:a<s?a:s,angle:Math.atan2(n,i)},this.time=(new Date).getTime(),this.duration=this.durationMax,this.loop()}},{key:"loop",value:function(){var e=this;if(this.duration>0){requestAnimationFrame(function(){e.loop()});var t=(new Date).getTime(),i=(t-this.time)/1e3;this.time=t,this.duration-=i,this.animateEye()}else isHome||(window.location.href=homeURL),this.active=!0,this.move(this.mouse.x,this.mouse.y)}},{key:"animateEye",value:function(){var e=Math.min(1,1-this.duration/this.durationMax),t=this.centre.relative.x+Math.cos(this.animation.angle+e*Math.PI*4)*this.animation.mag,i=this.centre.relative.y+Math.sin(this.animation.angle+e*Math.PI*4)*this.animation.mag;this.resizeImage(this.eye.pupil,t,i,this.scale),this.resizeImage(this.eye.glow,t,i,this.scale)}},{key:"resize",value:function(){var e=this;this.resizing||(this.resizing=!0,this.resizeCount=this.resizeCount?this.resizeCount+1:1,setTimeout(function(){var t=e.target.position(),i=e.target.width(),n=e.target.height();e.centre.x=t.left+i/2,e.centre.y=t.top+n/2,e.centre.relative.x=i/2,e.centre.relative.y=n/2,e.scale=e.eyeWidth/e.eye.base[0].naturalWidth,e.resizeImage(e.eye.base,e.centre.relative.x,e.centre.relative.y,e.scale),e.resizeImage(e.eye.glow,e.centre.relative.x,e.centre.relative.y,e.scale),e.resizeImage(e.eye.pupil,e.centre.relative.x,e.centre.relative.y,e.scale),e.setRayPosition(e.eye.ray,e.centre.relative.x,e.centre.relative.y,e.scale),e.resizing=!1},1==this.resizeCount?1:200))}},{key:"resizeImage",value:function(e,t,i,n){var a=e[0].naturalWidth*n,s=e[0].naturalHeight*n;e.css({left:t-a/2,top:i-s/2,width:a,height:"auto"})}},{key:"setRayPosition",value:function(e,t,i,n){var a=e[0].naturalHeight*n;e.css({left:t,top:i-a/2-16,height:"auto"})}},{key:"setRay",value:function(e){this.eye.ray.addClass("active");var t=e.offset().left+e.width()/2,i=e.offset().top+$(document).scrollTop()+e.height()/2,n=t-this.centre.x,a=i-(this.centre.y+$(document).scrollTop()),s=Math.sqrt(n*n+a*a),r=Math.atan2(a,n)/Math.PI*180;this.eye.ray.css({width:s,transform:"rotate("+r+"deg)"})}},{key:"hideRay",value:function(e){this.eye.ray.removeClass("active")}},{key:"move",value:function(e,t){this.mouse.x=e,this.mouse.y=t,this.mouse.relative.x=e-this.centre.x+this.centre.relative.x,this.mouse.relative.y=t-this.centre.y+this.centre.relative.y;var i=this.mouse.x-this.centre.x,n=this.mouse.y-this.centre.y,a=Math.sqrt(i*i+n*n);if(0!=a){var s=this.pupilSize*this.scale;a<=s?(i=this.mouse.relative.x,n=this.mouse.relative.y):(i=i/a*s+this.centre.relative.x,n=n/a*s+this.centre.relative.y),this.resizeImage(this.eye.pupil,i,n,this.scale),this.resizeImage(this.eye.glow,i,n,this.scale)}}},{key:"show",value:function(){this.eye.base.removeClass("display-none"),this.eye.glow.removeClass("display-none"),this.eye.pupil.removeClass("display-none"),this.eye.ray.removeClass("display-none")}}]),e}();t.default=s}]);