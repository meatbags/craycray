var stk=function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=i(1),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(s),o=function e(){n(this,e),this.menu=new a.Menu,this.eye=new a.Eye};window.onload=function(){new o}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Menu=t.Eye=void 0;var s=i(2),a=n(s),o=i(3),r=n(o);t.Eye=r.default,t.Menu=a.default},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(){n(this,e),this.fps=12,this.frameInterval=1e3/this.fps,this.events()}return s(e,[{key:"_uid",value:function(){return this.uid=this.uid?this.uid+1:1,"uid"+this.uid}},{key:"toggleDropdown",value:function(){$(".drop-down").toggleClass("active")}},{key:"filter",value:function(e){$(".drop-down-item.active").removeClass("active"),e.addClass("active")}},{key:"events",value:function(){var e=this;$(".nav-work").on("click",function(){e.toggleDropdown()}),$(".drop-down-item").on("click",function(t){e.filter($(t.currentTarget))}),$(".image_sequence").on("mouseenter",function(t){var i=e._uid(),n=$(".sequence.active").index();-1==n&&(n=0),$(t.currentTarget).find(".sequence").each(function(t,s){$(s).data("flag",i),t>=n&&setTimeout(function(){$(s).data("flag")==i&&($(".sequence").removeClass("active"),$(s).addClass("active"))},(t-n)*e.frameInterval)})}),$(".image_sequence").on("mouseleave",function(t){var i=e._uid(),n=$(".sequence.active").index();-1==n&&(n=$(t.currentTarget).find(".sequence").length-1);var s=e.frameInterval*n;$(t.currentTarget).find(".sequence").each(function(t,a){$(a).data("flag",i),t<=n&&setTimeout(function(){$(a).data("flag")==i&&($(".sequence").removeClass("active"),$(a).addClass("active"))},s-t*e.frameInterval)})})}}]),e}();t.default=a},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(){n(this,e),this.target=$(".nav-logo"),this.eye={glow:$(".eye-glow"),base:$(".eye-base"),pupil:$(".eye-pupil"),ray:$(".eye-ray")},this.mouse={x:window.innerWidth/2,y:window.innerHeight/2},this.centre={x:0,y:0},this.scale=1,this.eyeWidth=300,this.pupilSize=35,this.active=!0,this.duration=0,this.durationMax=.6,this.events(),this.resize(),this.show()}return s(e,[{key:"events",value:function(){var e=this;this.target.on("mousedown",function(t){e.active&&e.roll(t.clientX,t.clientY)}),$(document).on("mousemove",function(t){e.active?e.move(t.clientX,t.clientY):(e.mouse.x=t.clientX,e.mouse.y=t.clientY)}),$(window).on("resize",function(t){e.resize()}),$(".item").on("mouseenter",function(t){e.setRay($(t.currentTarget))}),$(".item").on("mouseleave",function(){e.hideRay()})}},{key:"roll",value:function(e,t){var i=this.mouse.x-this.centre.x,n=this.mouse.y-this.centre.y,s=Math.hypot(i,n),a=this.pupilSize*this.scale;this.active=!1,this.animation={mag:s<a?s:a,angle:Math.atan2(n,i)},this.time=(new Date).getTime(),this.duration=this.durationMax,this.loop()}},{key:"loop",value:function(){var e=this;if(this.duration>0){requestAnimationFrame(function(){e.loop()});var t=(new Date).getTime(),i=(t-this.time)/1e3;this.time=t,this.duration-=i,this.animateEye()}else this.active=!0,this.move(this.mouse.x,this.mouse.y)}},{key:"animateEye",value:function(){var e=Math.min(1,1-this.duration/this.durationMax),t=this.centre.x+Math.cos(this.animation.angle+e*Math.PI*4)*this.animation.mag,i=this.centre.y+Math.sin(this.animation.angle+e*Math.PI*4)*this.animation.mag;this.resizeImage(this.eye.pupil,t,i,this.scale),this.resizeImage(this.eye.glow,t,i,this.scale)}},{key:"resize",value:function(){var e=this.target.position(),t=this.target.width(),i=this.target.height();this.centre.x=e.left+t/2,this.centre.y=e.top+i/2,this.scale=this.eyeWidth/this.eye.base[0].naturalWidth,this.resizeImage(this.eye.base,this.centre.x,this.centre.y,this.scale),this.resizeImage(this.eye.glow,this.centre.x,this.centre.y,this.scale),this.resizeImage(this.eye.pupil,this.centre.x,this.centre.y,this.scale),this.setRayPosition(this.eye.ray,this.centre.x,this.centre.y-16,this.scale)}},{key:"resizeImage",value:function(e,t,i,n){var s=e[0].naturalWidth*n,a=e[0].naturalHeight*n;e.css({left:t-s/2,top:i-a/2,width:s,height:"auto"})}},{key:"setRayPosition",value:function(e,t,i,n){var s=e[0].naturalHeight*n;e.css({left:t,top:i-s/2,height:"auto"})}},{key:"setRay",value:function(e){this.eye.ray.addClass("active");var t=e.offset().left+e.width()/2,i=e.offset().top+e.height()/2,n=t-this.centre.x,s=i-(this.centre.y+$(document).scrollTop()),a=Math.sqrt(n*n+s*s),o=Math.atan2(s,n)/Math.PI*180;this.eye.ray.css({width:a,transform:"rotate("+o+"deg)"})}},{key:"hideRay",value:function(e){this.eye.ray.removeClass("active")}},{key:"move",value:function(e,t){this.mouse.x=e,this.mouse.y=t;var i=this.mouse.x-this.centre.x,n=this.mouse.y-this.centre.y,s=Math.sqrt(i*i+n*n);if(0!=s){var a=this.pupilSize*this.scale;s<=a?(i=this.mouse.x,n=this.mouse.y):(i=i/s*a+this.centre.x,n=n/s*a+this.centre.y),this.resizeImage(this.eye.pupil,i,n,this.scale),this.resizeImage(this.eye.glow,i,n,this.scale)}}},{key:"show",value:function(){this.eye.base.removeClass("display-none"),this.eye.glow.removeClass("display-none"),this.eye.pupil.removeClass("display-none"),this.eye.ray.removeClass("display-none")}}]),e}();t.default=a}]);