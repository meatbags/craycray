var stk=function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(1),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a),r=function e(){n(this,e),this.menu=new o.Menu,this.eye=new o.Eye,this.loading=new o.Loading,isHome||(this.images=new o.Images)};window.onload=function(){new r}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var a=i(3);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var o=i(4);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var r=i(5);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){if(n(this,e),this.fps=12,this.frameInterval=1e3/this.fps,this.events(),isHome)if(window.location.hash){var t=".hash-"+window.location.hash.split("#")[1];if($(t).length){$(t).click();var i=$(t).data("parent");$(".cat-parent").each(function(e,t){$(t).data("name")==i&&$(t).click()})}else $(".fade-out").removeClass("fade-out")}else $(".fade-out").removeClass("fade-out");else window.location.hash&&$(".home-button a").attr("href",$(".home-button a").attr("href")+window.location.hash);this.applyFilter(".filter-featured")}return a(e,[{key:"_uid",value:function(){return this.uid=this.uid?this.uid+1:1,"uid"+this.uid}},{key:"toggleDropdown",value:function(e){e.hasClass("active")||($(".cat-parent.active").removeClass("active"),e.addClass("active"),$(".drop-down-item").addClass("display-none"),$(e.data("name")).removeClass("display-none"))}},{key:"filter",value:function(e){var t=this;this.lockFilter||e.hasClass("active")||(this.lockFilter=!0,$(".drop-down-item.active").removeClass("active"),e.addClass("active"),window.location.hash=e.data("hash"),$(".item").addClass("fade-out"),setTimeout(function(){t.applyFilter(e.data("filter")),t.lockFilter=!1},500))}},{key:"resetFilters",value:function(){var e=this;isHome&&!this.lockFilter&&$(".cat-parent").hasClass("active")&&(this.lockFilter=!0,$(".cat-parent.active").removeClass("active"),$(".drop-down-item.active").removeClass("active"),$(".drop-down-item").addClass("display-none"),$(".item").addClass("fade-out"),setTimeout(function(){e.applyFilter(".filter-featured"),window.location.hash="",e.lockFilter=!1},500))}},{key:"applyFilter",value:function(e){console.log("Filter:",e),$(".item").addClass("display-none");var t=[];document.querySelectorAll(e).forEach(function(e){var i=$(e),n=parseInt(e.dataset.menuItem);t.push({el:e,$el:i,index:n})}),t.sort(function(e,t){return e.index>t.index||e.index==t.index?1:-1}),console.log(t);for(var i=0;i<t.length;i++)!function(e){var i=t[e].$el;i.remove(),$(".column:eq("+e%3+")").append(i),i.removeClass("display-none"),setTimeout(function(){i.removeClass("fade-out")},100)}(i)}},{key:"events",value:function(){var e=this;$(".nav-logo").on("click",function(t){e.resetFilters()}),$(".cat-parent").on("click",function(t){e.toggleDropdown($(t.currentTarget))}),$(".drop-down-item").on("click",function(t){e.filter($(t.currentTarget))}),$(".image_sequence").on("mouseenter",function(t){var i=$(t.currentTarget);if(!i.find(".defer-load").length){var n=i.data("class"),a=e._uid(),o=$(n+".active").index();-1==o&&(o=0),$(t.currentTarget).find(n).each(function(t,i){$(i).data("flag",a),t>=o&&setTimeout(function(){$(i).data("flag")==a&&($(n).removeClass("active"),$(i).addClass("active"))},(t-o)*e.frameInterval)})}}),$(".image_sequence").on("mouseleave",function(t){if(!$(t.currentTarget).find(".defer-load").length){var i=$(t.currentTarget).data("class"),n=e._uid(),a=$(i+".active").index();-1==a&&(a=$(t.currentTarget).find(i).length-1);var o=e.frameInterval*a;$(t.currentTarget).find(i).each(function(t,r){$(r).data("flag",n),t<=a&&setTimeout(function(){$(r).data("flag")==n&&($(i).removeClass("active"),$(r).addClass("active"))},o-t*e.frameInterval)})}}),this.formatLinks=function(){var e=window.location.hash;isHome&&$(".item a").each(function(t,i){var n=$(i).attr("href");n.indexOf("#")?n=n.split("#")[0]+e:n+=e,$(i).attr("href",n)})},$(window).on("hashchange",function(){e.formatLinks()}),this.formatLinks()}}]),e}();t.Menu=o},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){var t=this;n(this,e),this.target=$(".nav-logo"),this.eye={glow:$(".eye-glow"),base:$(".eye-base"),pupil:$(".eye-pupil"),ray:$(".eye-ray")},this.offset={global:15,glow:0,base:0,pupil:0,ray:0},this.mouse={x:window.innerWidth/2,y:window.innerHeight/2,relative:{x:0,y:0}},this.centre={x:0,y:0,relative:{x:0,y:0}},this.scale={global:1,pupil:1},this.eyeWidth=180,this.pupilExtension=28,this.active=!0,this.duration=0,this.durationMax=.6,this.events(),this.resize(),setTimeout(function(){t.show()},100)}return a(e,[{key:"resize",value:function(){var e=this;this.resizing||(this.resizing=!0,this.resizeCount=this.resizeCount?this.resizeCount+1:1,setTimeout(function(){var t=e.target.position(),i=e.target.width(),n=e.target.height();e.centre.x=t.left+i/2,e.centre.y=t.top+n/2,e.centre.relative.x=i/2,e.centre.relative.y=n/2,e.scale.global=e.eyeWidth/e.eye.base[0].naturalWidth,e.scale.pupil=1.25*e.scale.global,e.offset.glow=29*e.scale.global,e.offset.pupil=-22*e.scale.global,e.resizeImage(e.eye.base,e.centre.relative.x,e.centre.relative.y,e.scale.global),e.resizeImage(e.eye.glow,e.centre.relative.x,e.centre.relative.y+e.offset.glow,e.scale.global),e.resizeImage(e.eye.pupil,e.centre.relative.x,e.centre.relative.y+e.offset.pupil,e.scale.pupil),e.resizing=!1},1==this.resizeCount?1:200))}},{key:"events",value:function(){var e=this;this.target.on("mousedown",function(t){e.active&&e.roll(t.clientX,t.clientY)}),$(document).on("mousemove",function(t){e.active?e.move(t.clientX,t.clientY):(e.mouse.x=t.clientX,e.mouse.y=t.clientY)}),$(window).on("resize",function(t){e.resize()})}},{key:"roll",value:function(e,t){var i=this.mouse.x-this.centre.x,n=this.mouse.y-this.centre.y,a=Math.hypot(i,n),o=this.pupilExtension*this.scale.global;this.active=!1,this.animation={mag:a<o?a:o,angle:Math.atan2(n,i)},this.time=(new Date).getTime(),this.duration=this.durationMax,this.loop()}},{key:"loop",value:function(){var e=this;if(this.duration>0){requestAnimationFrame(function(){e.loop()});var t=(new Date).getTime(),i=(t-this.time)/1e3;this.time=t,this.duration-=i,this.animateEye()}else isHome||(window.location.href=homeURL),this.active=!0,this.move(this.mouse.x,this.mouse.y)}},{key:"animateEye",value:function(){var e=Math.min(1,1-this.duration/this.durationMax),t=this.centre.relative.x+Math.cos(this.animation.angle+e*Math.PI*4)*this.animation.mag,i=this.centre.relative.y+Math.sin(this.animation.angle+e*Math.PI*4)*this.animation.mag;this.resizeImage(this.eye.pupil,t,i+this.offset.pupil,this.scale.global)}},{key:"resizeImage",value:function(e,t,i,n){var a=e[0].naturalWidth*n,o=e[0].naturalHeight*n;e.css({left:t-a/2,top:i-o/2+this.offset.global,width:a,height:"auto"})}},{key:"move",value:function(e,t){this.mouse.x=e,this.mouse.y=t,this.mouse.relative.x=e-this.centre.x+this.centre.relative.x,this.mouse.relative.y=t-this.centre.y+this.centre.relative.y;var i=this.mouse.x-this.centre.x,n=this.mouse.y-this.centre.y,a=Math.sqrt(i*i+n*n);if(0!=a){var o=this.pupilExtension*this.scale.global;a<=o?(i=this.mouse.relative.x,n=this.mouse.relative.y):(i=i/a*o+this.centre.relative.x,n=n/a*o+this.centre.relative.y),this.resizeImage(this.eye.pupil,i,n+this.offset.pupil,this.scale.pupil)}}},{key:"show",value:function(){this.eye.base.removeClass("display-none"),this.eye.glow.removeClass("display-none"),this.eye.pupil.removeClass("display-none")}}]),e}();t.Eye=o},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){var t=this;n(this,e),this.checkLoaded(),$(".defer-load").each(function(e,i){var n=$(i);i.onload=function(){n.removeClass("defer-load"),t.checkLoaded()},n.attr("src",n.data("src"))})}return a(e,[{key:"checkLoaded",value:function(){$(".loading").each(function(e,t){$(t).find(".defer-load").length||$(t).removeClass("loading")})}}]),e}();t.Loading=o},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function e(){n(this,e),$(".feat-item").each(function(e,t){var i=$(t).height(),n=$(t).find("img");n.height()<i&&n.css({height:"100%",width:"auto"})})};t.Images=a}]);